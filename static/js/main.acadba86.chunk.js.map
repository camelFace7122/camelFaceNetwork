{"version":3,"sources":["components/Header/Header.module.css","redux/app-reducer.js","components/News/News.jsx","components/NavBar/Friend/Friend.jsx","components/NavBar/NavBar.jsx","components/NavBar/NavBarContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/common/ErrorPopUp/ErrorPopUp.jsx","components/common/ErrorBoundary/ErrorBoundary.jsx","App.js","serviceWorker.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","redux/auth-reducer.js","redux/auth-selectors.js","components/common/ErrorPopUp/ErrorPopUp.module.css","components/common/Preloader/Preloader.jsx","assets/images/user.png","redux/profile-reducer.js","redux/dialogs-reducer.js","api/api.js","utils/reducerHelpers.js","redux/users-reducer.js","assets/images/flame.svg","components/NavBar/NavBar.module.css","assets/images/preloader.gif","components/common/Preloader/Preloader.module.css"],"names":["module","exports","initialState","initialized","globalError","initializeApp","dispatch","a","getAuthUserDataThunkCreator","type","showGlobalError","appReducer","state","action","News","props","Friend","className","classes","person","src","avatar","friend","NavBar","friendsElements","sidebar","friends","map","data","key","id","navBar","nav","item","to","activeClassName","active","cn","NavBarContainer","connect","Header","header","headerContainer","logotype","logo","logoName","logoSlogan","loginBlock","isAuth","authorized","authorizedTextBlock","userLogin","login","onClick","logout","image","userPhoto","defaultUserPhoto","alt","HeaderContainer","this","React","Component","getIsAuth","getLogin","getUserPhoto","ErrorPopUp","onErrorPopUpClose","errorPopUp","isHasError","closeBtn","ErrorBoundary","hasError","error","errorInfo","console","log","children","ProfileContainer","lazy","UsersContainer","LoginContainer","DialogsContainer","App","timer","message","clearInterval","catchAllUnhandledErrors","reason","promise","toJSON","setState","setTimeout","window","addEventListener","removeEventListener","Suspense","fallback","Preloader","exact","path","render","compose","withRouter","app","Boolean","location","hostname","match","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","auth","authReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","userId","email","captchaUrl","getCaptchaUrl","payload","setAuthUserData","authAPI","getAuthUserData","resultCode","authorizeByLogin","formData","securityAPI","url","messages","length","stopSubmit","_error","getCaptcha","getUserId","profile","photos","small","preloader","ADD_POST","DELETE_POST","posts","likesCount","profileUpdateStatus","status","addPost","post","deletePost","postId","setUserStatus","savePhotoSuccess","setProfileUpdateStatus","getUserProfileThunkCreator","profileAPI","getUserProfile","getUserStatusTC","getUserStatus","updateUserStatusTC","updateUserStatus","response","request","savePhoto","saveProfileEdit","profileData","getState","filter","p","dialogs","name","addMessageAC","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","follow","unfollow","delete","password","rememberMe","captcha","put","FormData","append","followUnfollowSwitcher","items","itemId","objPropName","newObjProps","u","UNFOLLOW","FOLLOW","SET_USERS","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setUsers","toggleIsFetching","toggleFollowingInProgress","requestUsers","totalCount","changePageThunkCreator","pageNumber","followUnfollowFlow","apiMethod","actionCreator","unfollowThunkCreator","bind","followThunkCreator","followed"],"mappings":"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","file":"static/js/main.acadba86.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__RUz2-\",\"headerContainer\":\"Header_headerContainer__3WfoT\",\"logotype\":\"Header_logotype__2e_c-\",\"logoName\":\"Header_logoName__2vQvJ\",\"logoSlogan\":\"Header_logoSlogan__300C2\",\"loginBlock\":\"Header_loginBlock__3UNb5\",\"authorized\":\"Header_authorized__41z7k\",\"image\":\"Header_image__1vDZ5\",\"authorizedTextBlock\":\"Header_authorizedTextBlock__3SY3e\",\"userLogin\":\"Header_userLogin__195rg\"};","import { getAuthUserDataThunkCreator } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS';\r\nconst SHOW_GLOBAL_ERROR = 'app/SHOW_GLOBAL_ERROR';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        case SHOW_GLOBAL_ERROR: \r\n            return {\r\n                ...state,\r\n                globalError: action.globalError,\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n\r\n}  \r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    await dispatch(getAuthUserDataThunkCreator());\r\n    dispatch(initializedSuccess());\r\n}\r\n\r\nexport const showGlobalError = (globalError) => ({type: SHOW_GLOBAL_ERROR, globalError});\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            Today Elon Musk started new Neurolink project 17 january 21:55\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from '.././NavBar.module.css';\r\n\r\n\r\nconst Friend = (props) => {\r\n  return (\r\n          <div className={classes.person}>\r\n            <img src={props.state.avatar} />\r\n            <p>{props.state.friend}</p>\r\n          </div>\r\n  )\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport classes from './NavBar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Friend from './Friend/Friend';\r\nimport cn from 'classnames'\r\n\r\nconst NavBar = (props) => {\r\n\r\n  let friendsElements = props.sidebar.friends.map(data => {\r\n    return <Friend key={data.id} state={data} />\r\n  })\r\n\r\n  return (\r\n      <div className={classes.navBar}>\r\n          <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n              <NavLink to=\"/profile\" activeClassName={classes.active}>\r\n                Profile\r\n              </NavLink>\r\n            </div>\r\n            <div className={cn(classes.item, classes.active)}>\r\n              <NavLink to=\"/dialogs\" activeClassName={classes.active}>\r\n                Messages\r\n              </NavLink>\r\n\r\n            </div>\r\n            <div className={classes.item}>\r\n              <NavLink to=\"/users\" activeClassName={classes.active}>\r\n                Users\r\n              </NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n              <NavLink to=\"/news\" activeClassName={classes.active}>\r\n                News\r\n              </NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n              <a>\r\n                Music\r\n              </a>\r\n            </div>\r\n            <div className={classes.item}>\r\n              <a>\r\n                Settings\r\n              </a>\r\n            </div>\r\n          </nav>\r\n\r\n          <aside>\r\n            <h3>Friends</h3>\r\n            <div className={classes.friends}>\r\n              {friendsElements}\r\n            </div>\r\n          </aside>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport NavBar from './NavBar';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        sidebar: state.sidebar,\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n    }\r\n};\r\n\r\nconst NavBarContainer = connect(mapStateToProps, mapDispatchToProps)(NavBar);\r\n\r\nexport default NavBarContainer;","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from '../../assets/images/flame.svg';\r\nimport defaultUserPhoto from '../../assets/images/user.png';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n          <div className='wrapper'>\r\n            <div className={classes.headerContainer}>\r\n              <div className={classes.logotype}>\r\n                <img src={logo} />\r\n                <span className={classes.logoName}>Bonfire</span>\r\n                <span className={classes.logoSlogan}>so turn the lights out</span>\r\n              </div>\r\n              <div className={classes.loginBlock}>\r\n                { props.isAuth ? \r\n                <div className={classes.authorized}>\r\n                  <div className={classes.authorizedTextBlock}>\r\n                    <span className={classes.userLogin}>{props.login}</span>\r\n                    <div>\r\n                      <button onClick={props.logout}>Logout</button>\r\n                    </div>\r\n                  </div>\r\n                  <div className={classes.image}>\r\n                    <img src={props.userPhoto || defaultUserPhoto } alt=\"user photo\"/>\r\n                  </div>\r\n                </div> : \r\n                <NavLink to={'/login'}>Login</NavLink>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux'; \r\nimport {logout} from '../../redux/auth-reducer' \r\nimport { getIsAuth, getLogin, getUserPhoto } from '../../redux/auth-selectors';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() { \r\n      return <Header {...this.props} />\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: getIsAuth(state),\r\n    login: getLogin(state),\r\n    userPhoto: getUserPhoto(state),\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport classes from './ErrorPopUp.module.css'\r\nimport cn from 'classnames';\r\n\r\nexport const ErrorPopUp = ({globalError, onErrorPopUpClose}) => {\r\n\r\n    return (\r\n        <div className={cn(classes.errorPopUp, {[classes.isHasError]: globalError})}>\r\n            <p>Sorry, it seems we have error</p>\r\n            <h4>{globalError}</h4>\r\n            <button className={classes.closeBtn} onClick={() => onErrorPopUpClose(null)} >&times;</button>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {hasError: false};\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return { hasError: true };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        console.log(error, errorInfo);\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return <h1>Что-то пошло не так.</h1>\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import React from 'react';\nimport './App.css';\nimport {Redirect, Route, Switch, withRouter} from 'react-router-dom';\nimport News from './components/News/News';\nimport NavBarContainer from './components/NavBar/NavBarContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { initializeApp, showGlobalError } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { ErrorPopUp } from './components/common/ErrorPopUp/ErrorPopUp';\nimport ErrorBoundary from './components/common/ErrorBoundary/ErrorBoundary';\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst LoginContainer = React.lazy(() => import('./components/Login/LoginContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component {\n\n  state = {\n    timer: null,\n  }\n\n  onErrorPopUpClose = (message) => {\n    clearInterval(this.state.timer);\n    this.props.showGlobalError(message);\n  }\n\n  catchAllUnhandledErrors = (reason, promise) => {\n    this.onErrorPopUpClose(reason.reason.toJSON().message)\n    this.setState({\n      timer: setTimeout(() => {\n        this.props.showGlobalError(null);\n      }, 10000),\n    })\n  }\n\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);  \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n\n  render() { \n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n    <div className=\"App\">\n      <HeaderContainer />\n      <div className=\"main wrapper\">\n        <NavBarContainer />\n        <div className='app-wrapper-content'>\n          <ErrorBoundary>\n            <React.Suspense fallback={<Preloader />}> \n              <Switch>\n                <Route exact path='/' render={ () => <Redirect to='/profile' /> } />\n                <Route render={ () => <DialogsContainer />} path='/dialogs' />\n                <Route render={ () => <ProfileContainer />} path='/profile/:userId?' />\n                <Route render={ () => <UsersContainer />} path='/users' />\n                <Route render={ () => <News />} path='/news' />\n                <Route render={ () => <LoginContainer />} path='/login' />\n                <Route render={ () => <div>Error 404, page was not found</div> } path='*' />\n              </Switch>\n            </React.Suspense>\n          </ErrorBoundary> \n        </div>\n      </div>\n      <ErrorPopUp globalError={this.props.globalError} onErrorPopUpClose={this.onErrorPopUpClose} />\n    </div>\n    )  \n  }\n}\n\nlet mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n  globalError: state.app.globalError,\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp, showGlobalError})\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","\r\nlet initialState = {\r\n    friends: [\r\n        { id: 1, friend: 'Zhalgas', avatar: 'https://pbs.twimg.com/profile_images/913861131005022209/iaBdZZn1.jpg' },\r\n        { id: 2, friend: 'Erkanat', avatar: 'https://demotivation.ru/wp-content/uploads/2020/05/1463056020_205639_1463060534_noticia_normal_recorte1-1.jpg' },\r\n        { id: 3, friend: 'Maya', avatar: 'https://dropi.ru/img/uploads/2017-10-25/1_original.jpeg' },\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;\r\n","import profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\nimport store from './redux/redux-store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { authAPI, securityAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA';\r\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: action.isAuth,\r\n            }\r\n        case GET_CAPTCHA_URL:\r\n            debugger;\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst getCaptchaUrl = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL,\r\n    payload: { captchaUrl },\r\n})\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_AUTH_USER_DATA, data: { userId, email, login }, isAuth, });\r\n\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch) => {\r\n    let data = await authAPI.getAuthUserData();\r\n\r\n    if (data.resultCode === 0) {\r\n        let { id, login, email } = data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n}\r\n\r\nexport const authorizeByLogin = (formData) => async (dispatch) => {\r\n    let data = await authAPI.authorizeByLogin(formData);\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunkCreator());\r\n    } else {\r\n        if (data.resultCode === 10) {\r\n            let captchaUrl = await securityAPI.getCaptchaUrl()\r\n            .then((data) => {\r\n                return data.url;                \r\n            });\r\n            dispatch(getCaptchaUrl(captchaUrl)); \r\n        }\r\n        let messages = (data.messages.length > 0) ? data.messages[0] : 'Common Error';\r\n        dispatch(stopSubmit('login', { _error: messages }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n        \r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n","export const getIsAuth = (state) => {\r\n    return state.auth.isAuth;\r\n}\r\n\r\nexport const getCaptcha = (state) => {\r\n    return state.auth.captchaUrl;\r\n}\r\n\r\nexport const getLogin = (state) => {\r\n    return state.auth.login;\r\n}\r\n\r\nexport const getUserId = (state) => {\r\n    return state.auth.userId;\r\n}\r\n\r\nexport const getUserPhoto = (state) => {\r\n    if (state.profilePage.profile) {\r\n        return state.profilePage.profile.photos.small;\r\n    } \r\n    return null;\r\n} ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorPopUp\":\"ErrorPopUp_errorPopUp__ldiJ3\",\"isHasError\":\"ErrorPopUp_isHasError__3_JG0\",\"closeBtn\":\"ErrorPopUp_closeBtn__ZrfS9\"};","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.gif';\r\nimport classes from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={classes.preloader}><img src={preloader} /></div>\r\n}\r\n\r\nexport default Preloader;","module.exports = __webpack_public_path__ + \"static/media/user.5de72daf.png\";","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI } from '../api/api'\r\nimport { showGlobalError } from './app-reducer';\r\n\r\nconst ADD_POST = 'profilePage/ADD_POST';\r\nconst SET_USER_PROFILE = 'profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'profilePage/SET_USER_STATUS';\r\nconst DELETE_POST = 'profilePage/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'profilePage/SAVE_PHOTO_SUCCESS';\r\nconst SET_PROFILE_UPDATE_STATUS = 'profilePage/SET_PROFILE_UPDATE_STATUS'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'This is the main event of the evening!', likesCount: '0' },\r\n        { id: 2, message: 'Wow, is it me?', likesCount: '15' },\r\n        { id: 3, message: 'Catch me, if you can, man', likesCount: '329' },\r\n    ],\r\n    profile: null,\r\n    profileUpdateStatus: 'none',\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, { id: 4, message: action.post, likesCount: 228 }]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId),\r\n            }\r\n        case SAVE_PHOTO_SUCCESS: \r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        case SET_PROFILE_UPDATE_STATUS:\r\n            return {\r\n                ...state,\r\n                profileUpdateStatus: action.profileUpdateStatus,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (post) => {\r\n    return {\r\n        type: ADD_POST,\r\n        post,\r\n    }\r\n}\r\n\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId,\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile,\r\n    }\r\n}\r\n\r\nexport const setUserStatus = (status) => {\r\n    return {\r\n        type: SET_USER_STATUS,\r\n        status,\r\n    }\r\n}\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n    return {\r\n        type: SAVE_PHOTO_SUCCESS,\r\n        photos,\r\n    }\r\n}\r\n\r\nconst setProfileUpdateStatus = (profileUpdateStatus) => {\r\n    return {\r\n        type: SET_PROFILE_UPDATE_STATUS,\r\n        profileUpdateStatus,\r\n    }\r\n}\r\n\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getUserProfile(userId)\r\n\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getUserStatusTC = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getUserStatus(userId);\r\n\r\n    dispatch(setUserStatus(data))\r\n}\r\n\r\nexport const updateUserStatusTC = (status) => async (dispatch) => {\r\n    try {\r\n        let data = await profileAPI.updateUserStatus(status);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(setUserStatus(status))\r\n        }\r\n    } catch(error) {\r\n        dispatch(showGlobalError(error.response.request.status));\r\n        setTimeout(() => {\r\n            dispatch(showGlobalError(null))\r\n        }, 10000);\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photos) => async (dispatch) => {\r\n    let data = await profileAPI.savePhoto(photos);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfileEdit = (profileData) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let data = await profileAPI.saveProfileEdit(profileData);\r\n    if (data.resultCode === 0) {\r\n        await dispatch(getUserProfileThunkCreator(userId));\r\n        dispatch(setProfileUpdateStatus('success'));\r\n    } else {\r\n        let messages = (data.messages.length > 0) ? data.messages[0] : 'Common Error';\r\n        dispatch(stopSubmit('edit-profile', { _error: messages }));\r\n        dispatch(setProfileUpdateStatus('error'));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const ADD_MESSAGE = 'dialogsPage/ADD_MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        { id: 1, message: 'Each day i will ....' },\r\n        { id: 2, message: 'My new variable ....' },\r\n        { id: 3, message: 'easy money' },\r\n    ],\r\n    dialogs: [\r\n        { id: 1, name: 'Aslan' },\r\n        { id: 2, name: 'Rachel' },\r\n        { id: 3, name: 'Gus' },\r\n        { id: 4, name: 'Artur' },\r\n        { id: 5, name: 'Luke' },\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages,  {id: 4, message: action.message,}]\r\n            }        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let addMessageAC = (message) => {\r\n    return {\r\n        type: 'ADD_MESSAGE',\r\n        message,\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0`,\r\n    headers: {\r\n        \"API-KEY\": \"56ae4f9d-aa33-4257-bd1c-153e752c804b\",\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage = 1, pageSize = 10) => {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    follow: (id) => {\r\n        return instance.post(`follow/${id}`).then(response => response.data);\r\n    },\r\n    unfollow: (id) => {\r\n        return instance.delete(`follow/${id}`).then(response => response.data);\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuthUserData: () => {\r\n        return instance.get(`auth/me`).then(response => response.data);\r\n    },\r\n    authorizeByLogin: ({email, password, rememberMe = false, captcha}) => {\r\n        return instance.post(`auth/login`, {\r\n            email, password, rememberMe, captcha,\r\n        }).then(response => response.data);\r\n    },\r\n    logout: () => {\r\n        return instance.delete(`auth/login`).then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const profileAPI = { \r\n    getUserProfile: (id) => {\r\n        return instance.get(`profile/${id}`).then(response => response.data);\r\n    },\r\n    getUserStatus: (userId) => {\r\n        return instance.get(`profile/status/${userId}`).then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    updateUserStatus: (status) => {\r\n        return instance.put(`profile/status/`, {\r\n            status: status,\r\n        }).then(response => response.data)\r\n    },\r\n\r\n    savePhoto: (photos) => {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photos);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            }\r\n        }).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    saveProfileEdit: (profile) => {\r\n        return instance.put(`profile`, profile )\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl: () => {\r\n        return instance.get('/security/get-captcha-url')\r\n        .then(response => response.data);\r\n    }\r\n}\r\n","export const followUnfollowSwitcher = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps };\r\n        }\r\n        return u;\r\n    });\r\n}","import { usersAPI } from '../api/api';\r\nimport {followUnfollowSwitcher} from '../utils/reducerHelpers'\r\n\r\nconst UNFOLLOW = 'usersPage/UNFOLLOW';\r\nconst FOLLOW = 'usersPage/FOLLOW';\r\nconst SET_USERS = 'usersPage/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'usersPage/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'usersPage/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'usersPage/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'usersPage/TOGGLE_FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    fake: 10,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: followUnfollowSwitcher(state.users, action.userId, 'id', {followed: true}),\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: followUnfollowSwitcher(state.users, action.userId, 'id', {followed: false}),\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber,\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount,\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            }\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId),\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (pageNumber) => ({ type: SET_CURRENT_PAGE, pageNumber });\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, totalCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({ type: TOGGLE_FOLLOWING_IN_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount - 6700));\r\n    dispatch(toggleIsFetching(false));\r\n}\r\n\r\nexport const changePageThunkCreator = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(data.items));\r\n    dispatch(toggleIsFetching(false));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    let data = await apiMethod(userId);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unfollowThunkCreator = (userId) => async (dispatch) => {\r\n\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\n\r\nexport const followThunkCreator = (userId) => async (dispatch) => {\r\n\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport default usersReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/flame.f0845b97.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"NavBar_navBar__15mQF\",\"nav\":\"NavBar_nav__2aKNQ\",\"item\":\"NavBar_item__2ZT00\",\"active\":\"NavBar_active__1118_\",\"person\":\"NavBar_person__3sC7-\",\"friends\":\"NavBar_friends__3isoC\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.14707564.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1gsfs\"};"],"sourceRoot":""}