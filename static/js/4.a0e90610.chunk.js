(this["webpackJsonpsamurai-path"]=this["webpackJsonpsamurai-path"]||[]).push([[4],{233:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},o=r(10),s=r(100)},234:function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return E})),a.d(t,"a",(function(){return h})),a.d(t,"e",(function(){return v})),a.d(t,"b",(function(){return g}));var n=a(31),r=a(2),o=a(40),s=a(246),u=a(0),i=a.n(u),l=a(115),c=a(235),p=a.n(c),f=a(39),m=a.n(f),d=function(e){var t=e.input,a=e.meta,n=e.el,u=e.textAfter,l=e.textBefore,c=Object(s.a)(e,["input","meta","el","textAfter","textBefore"]),f=a.touched&&a.error;return i.a.createElement("div",{className:m()(p.a.formControl,Object(o.a)({},p.a.error,f))},l&&i.a.createElement("b",null,l,": "),i.a.createElement(n,Object(r.a)(Object(r.a)({},t),c)),u,f&&i.a.createElement("span",null,a.error))},b=function(e){return i.a.createElement(d,Object.assign({el:"textarea"},e))},E=function(e){return i.a.createElement(d,Object.assign({el:"input",textBefore:e.text},e))},h=function(e){return i.a.createElement(d,Object.assign({el:"input",textAfter:e.text},e))},v=function(e,t,a,r,o){return i.a.createElement(l.a,{placeholder:e,name:t,validate:Object(n.a)(a),component:r,type:o})},g=function(e){var t=e.error;return i.a.createElement("div",{className:p.a.formSummaryError},t)}},235:function(e,t,a){e.exports={formControl:"FormsControls_formControl__LxQGF",error:"FormsControls_error__3o3tP",formSummaryError:"FormsControls_formSummaryError__3QUKy"}},242:function(e,t,a){e.exports={about:"ProfileInfo_about__2ze2A",contact:"ProfileInfo_contact__1yXr8"}},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(25),r=a(26),o=a(28),s=a(27),u=a(0),i=a.n(u),l=a(6),c=a(20),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(o.a)(u,t);var a=Object(s.a)(u);function u(){return Object(n.a)(this,u),a.apply(this,arguments)}return Object(r.a)(u,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(l.a,{to:"/login"})}}]),u}(i.a.Component);return Object(c.b)(p)(t)}},245:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(65);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(i){r=!0,o=i}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},247:function(e,t,a){e.exports={posts__textarea:"MyPosts_posts__textarea__3wU10",posts:"MyPosts_posts__q5tes"}},260:function(e,t,a){},261:function(e,t,a){e.exports={item:"Post_item__3UvqT",postMessage:"Post_postMessage__2jGFl"}},306:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(26),o=a(28),s=a(27),u=a(0),i=a.n(u),l=a(260),c=a.n(l),p=a(64),f=a(247),m=a.n(f),d=a(261),b=a.n(d),E=function(e){return i.a.createElement("div",{className:b.a.item},i.a.createElement("img",{src:"https://static.360tv.ru/media/article_media/7e00c45cfdb9489cad203327cb94bb0d_201708211251.jpg",alt:"cowboy"}),i.a.createElement("span",{className:b.a.postMessage},e.message),i.a.createElement("div",null,"like it! ",i.a.createElement("span",null,e.likesCount)),i.a.createElement("button",{onClick:function(){e.deletePost(e.id)}},"Delete"))},h=a(115),v=a(116),g=a(233),y=a(234),O=Object(v.a)({form:"myPosts"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement(h.a,{component:y.d,name:"post",placeholder:"Type something",validate:[g.c,g.a],className:m.a.posts__textarea}),i.a.createElement("div",null,i.a.createElement("button",null,"Add Post")))}));window.props=[];var j=function(e){var t=e.profilePage.posts.map((function(t){return i.a.createElement(E,{key:t.id,deletePost:e.deletePost,id:t.id,message:t.message,likesCount:t.likesCount})}));return i.a.createElement("div",{className:m.a.posts},i.a.createElement("h2",null,"My Posts"),i.a.createElement(O,{onSubmit:function(t){e.addPost(t.post)}}),t)},S=a(20),P=function(e){return e.profilePage.profile},_=function(e){return e.profilePage.status},U=function(e){return e.profilePage},k=function(e){return e.profilePage.profileUpdateStatus},M=Object(S.b)((function(e){return{profilePage:U(e)}}),{addPost:p.a,deletePost:p.c})(j),x=a(245),A=a(242),w=a.n(A),C=a(63),F=a.n(C),N=a(52),I=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateUserStatus(e.state.status)},e.onType=function(t){e.setState({status:t.currentTarget.value})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.editMode?i.a.createElement("div",null,i.a.createElement("input",{autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status,onChange:this.onType})):i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:this.activateEditMode},this.props.status||"---")))}}]),a}(i.a.Component),J=Object(v.a)({form:"edit-profile"})((function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,r=e.handleSubmit,o=e.error;return i.a.createElement("form",{onSubmit:r},i.a.createElement("h4",null,"Full Name: ",Object(y.e)("full name","fullName",[g.c],y.c)),i.a.createElement("p",null,i.a.createElement("b",null,"Status: "),i.a.createElement(I,{status:a,updateUserStatus:n})),i.a.createElement("span",null,Object(y.e)(null,"lookingForAJob",[],(function(e){return i.a.createElement(y.c,Object.assign({},e,{text:"Looking for A Job"}))}),"checkbox")),i.a.createElement("p",null,i.a.createElement("b",null,"Looking For A Job Description: ")," ",Object(y.e)("describe a job that you wish","lookingForAJobDescription",[g.c],y.d)),i.a.createElement("p",null,i.a.createElement("b",null,"About Me: ")," ",Object(y.e)("few sentences about yourself","aboutMe",[g.c],y.d)),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts: ")," ",Object.keys(t.contacts).map((function(e){return i.a.createElement("div",{className:w.a.contact,key:e}," ",i.a.createElement("b",null,e)," ",Object(y.e)(e,"contacts."+e,[],y.c))}))),o&&i.a.createElement(y.b,{error:o}),i.a.createElement("div",null,i.a.createElement("button",null,"Save")))})),T=function(e){var t=e.profile,a=e.status,n=e.isOwner,r=e.goToEditMode,o=e.updateUserStatus;return i.a.createElement("div",null,i.a.createElement("h4",null,t.fullName),i.a.createElement("div",null,i.a.createElement("b",null,"Status: "),i.a.createElement(I,{status:a,updateUserStatus:o})),i.a.createElement("p",null,i.a.createElement("b",null,"Looking for Job: "),t.lookingForAJob?"Yes":"No"),i.a.createElement("p",null,i.a.createElement("b",null,"Looking For A Job Description: "),t.lookingForAJobDescription),i.a.createElement("p",null,i.a.createElement("b",null,"About Me: "),t.aboutMe),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts: ")," ",Object.keys(t.contacts).map((function(e){return i.a.createElement(D,{key:e,contactTitle:e,contactValue:t.contacts[e]||"none"})}))),i.a.createElement("div",null,n&&i.a.createElement("button",{onClick:r},"Edit")))},D=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("p",{className:w.a.contact},i.a.createElement("b",null,t),": ",a)},L=function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,r=e.isOwner,o=e.savePhoto,s=e.saveProfileEdit,l=e.profileUpdateStatus,c=Object(u.useState)(!1),p=Object(x.a)(c,2),f=p[0],m=p[1];if(Object(u.useEffect)((function(){"success"===l&&m(!1)}),[l]),!t)return i.a.createElement(N.a,null);return i.a.createElement("div",null,r&&i.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}}),i.a.createElement("div",{className:w.a.about},i.a.createElement("img",{src:t.photos.large||F.a}),f?i.a.createElement(J,{initialValues:t,profile:t,status:a,updateUserStatus:n,onSubmit:function(e){s(e)}}):i.a.createElement(T,{profile:t,status:a,isOwner:r,goToEditMode:function(){m(!0)},updateUserStatus:n})))},B=function(e){return i.a.createElement("div",{className:c.a.content},i.a.createElement(L,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfileEdit:e.saveProfileEdit,profileUpdateStatus:e.profileUpdateStatus}),i.a.createElement(M,null))},q=a(6),z=a(243),V=a(19),G=a(42),Q=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isLoading:!1},e}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this;return new Promise((function(t){var a=e.props.match.params.userId;a||(a=e.props.authorizedUserId),e.props.getUserProfile(a),e.props.getUserStatus(a),t()}))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;e.match.params.userId!==this.props.match.params.userId&&(this.setState({isLoading:!0}),this.refreshProfile().then((function(){n.setState({isLoading:!1})})))}},{key:"render",value:function(){return this.state.isLoading?i.a.createElement(N.a,null):i.a.createElement(B,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfileEdit:this.props.saveProfileEdit,profileUpdateStatus:this.props.profileUpdateStatus}))}}]),a}(i.a.Component);t.default=Object(V.d)(Object(S.b)((function(e){return{profile:P(e),status:_(e),authorizedUserId:Object(G.d)(e),profileUpdateStatus:k(e)}}),{getUserProfile:p.d,getUserStatus:p.e,updateUserStatus:p.h,savePhoto:p.f,saveProfileEdit:p.g}),q.g,z.a)(Q)}}]);
//# sourceMappingURL=4.a0e90610.chunk.js.map